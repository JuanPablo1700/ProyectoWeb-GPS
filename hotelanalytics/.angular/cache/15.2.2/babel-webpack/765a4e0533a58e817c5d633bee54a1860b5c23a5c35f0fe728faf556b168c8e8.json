{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/new-hotel.service\";\nimport * as i3 from \"src/app/services/error.service\";\nimport * as i4 from \"src/app/services/data.service\";\nfunction GraficasgeneralesComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 5)(2, \"label\", 25);\n    i0.ɵɵtext(3, \" Fecha Inicio: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 27)(6, \"label\", 28);\n    i0.ɵɵtext(7, \" Fecha Fin: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 29);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction GraficasgeneralesComponent_select_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"select\", 30)(1, \"option\", 17);\n    i0.ɵɵtext(2, \" Tipo de hotel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"option\", 31);\n    i0.ɵɵtext(4, \"Todos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"option\", 13);\n    i0.ɵɵtext(6, \" 1 estrellas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 14);\n    i0.ɵɵtext(8, \" 2 estrellas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 18);\n    i0.ɵɵtext(10, \" 3 estrellas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 19);\n    i0.ɵɵtext(12, \" 4 estrellas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 32);\n    i0.ɵɵtext(14, \" 5 estrellas \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction GraficasgeneralesComponent_select_35_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const hotel_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", hotel_r4.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(hotel_r4.nombre);\n  }\n}\nfunction GraficasgeneralesComponent_select_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"select\", 30)(1, \"option\", 17);\n    i0.ɵɵtext(2, \" Seleccione un Hotel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, GraficasgeneralesComponent_select_35_option_3_Template, 2, 2, \"option\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.hoteles);\n  }\n}\nexport class GraficasgeneralesComponent {\n  constructor(router, _newHotelService, _errorService, _dataService) {\n    this.router = router;\n    this._newHotelService = _newHotelService;\n    this._errorService = _errorService;\n    this._dataService = _dataService;\n    this.fechaSelect = \"\";\n    this.tipoGrafica = \"\";\n    this.hoteles = [];\n    this.view = [700, 400];\n    // options\n    this.showXAxis = true;\n    this.showYAxis = true;\n    this.gradient = false;\n    this.showLegend = true;\n    this.legendPosition = 'below';\n    this.showXAxisLabel = true;\n    this.yAxisLabel = 'Hotel';\n    this.showYAxisLabel = true;\n    this.xAxisLabel = 'Cantidad';\n    this.schemeType = 'ordinal';\n  }\n  ngOnInit() {\n    this.fechaSelect = \"-1\";\n    this.tipoGrafica = \"1\";\n    this.getHotels();\n    this._dataService.getMotivoGeneral().subscribe({\n      next: data => {\n        this.nuevo = data;\n      }\n    });\n  }\n  get multi() {\n    return this.nuevo;\n  }\n  onSelect(data) {\n    console.log('Item clicked', JSON.parse(JSON.stringify(data)));\n  }\n  onActivate(data) {\n    console.log('Activate', JSON.parse(JSON.stringify(data)));\n  }\n  onDeactivate(data) {\n    console.log('Deactivate', JSON.parse(JSON.stringify(data)));\n  }\n  getHotels() {\n    this._newHotelService.getHotels().subscribe({\n      next: data => {\n        this.hoteles = data;\n      },\n      error: error => {\n        this._errorService.msjError(error);\n      }\n    });\n  }\n  principaldirector() {\n    this.router.navigate(['/principaldirector']);\n  }\n  logOut() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('tipo_usuario');\n    this.router.navigate(['/login']);\n  }\n}\nGraficasgeneralesComponent.ɵfac = function GraficasgeneralesComponent_Factory(t) {\n  return new (t || GraficasgeneralesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.NewHotelService), i0.ɵɵdirectiveInject(i3.ErrorService), i0.ɵɵdirectiveInject(i4.DataService));\n};\nGraficasgeneralesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GraficasgeneralesComponent,\n  selectors: [[\"app-graficasgenerales\"]],\n  decls: 39,\n  vars: 17,\n  consts: [[1, \"barra\", \"fixed\", \"bg-white\", \"border-r-2\", \"w-32\", \"flex\", \"flex-col\", \"border-verde\", \"items-center\", \"min-h-screen\", \"flex-1\"], [\"src\", \"../../../assets/img/logo.jpeg\", 1, \"w-auto\", \"h-24\", \"mt-2\"], [1, \"botones\", \"flex\", \"flex-col\", \"justify-between\", \"items-center\", \"h-full\", \"flex-grow\", \"mt-9\"], [3, \"click\"], [\"src\", \"../../../assets/img/usuarios.png\", 1, \"w-60\", \"h-auto\"], [1, \"\"], [\"src\", \"../../../assets/img/grafico-histograma.png\", 1, \"w-60\", \"h-auto\"], [1, \"flex\", \"flex-col\", \"items-center\", 3, \"click\"], [\"src\", \"../../../assets/img/salida.png\", 1, \"w-60\", \"h-auto\"], [1, \"contenedor\", \"ml-32\", \"flex\", \"flex-col\", \"justify-center\", \"flex-grow\", \"items-center\"], [1, \"text-titulo\", \"text-2xl\", \"font-bold\", \"my-12\"], [1, \"flex\", \"flex-col\", \"items-center\", \"bg-white\", \"w-4/5\", \"rounded-lg\"], [\"id\", \"Graficas\", 1, \"my-10\", \"border-2\", \"rounded-md\", \"border-gray-300\", \"p-1\", \"focus:border-verde\", \"peer-focus:text-verde\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"1\"], [\"value\", \"2\"], [1, \"flex\", \"justify-center\", \"items-start\", \"mb-10\"], [\"id\", \"fechaconsulta\", 1, \"mr-6\", \"border-2\", \"rounded-md\", \"border-gray-300\", \"p-1\", \"focus:border-verde\", \"peer-focus:text-verde\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"-1\", \"selected\", \"\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"class\", \"flex flex-col\", 4, \"ngIf\"], [\"id\", \"Graficas\", \"class\", \"border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\", 4, \"ngIf\"], [\"scheme\", \"cool\", 3, \"view\", \"schemeType\", \"results\", \"gradient\", \"xAxis\", \"yAxis\", \"legend\", \"legendPosition\", \"showXAxisLabel\", \"showYAxisLabel\", \"xAxisLabel\", \"yAxisLabel\", \"select\", \"activate\", \"deactivate\"], [1, \"bg-verde\", \"text-white\", \"text-2xl\", \"px-20\", \"py-2\", \"mt-8\", \"rounded-lg\"], [1, \"flex\", \"flex-col\"], [\"for\", \"fechainicio\"], [\"type\", \"date\", \"id\", \"fechainicio\", \"name\", \"fecha\", 1, \"mr-6\", \"border-2\", \"rounded-md\", \"border-gray-300\", \"p-1\", \"focus:border-verde\", \"peer-focus:text-verde\"], [1, \"mt-4\"], [\"for\", \"fechafin\", 1, \"\"], [\"type\", \"date\", \"id\", \"fechafin\", \"name\", \"fecha\", 1, \"-mr-12\", \"border-2\", \"rounded-md\", \"border-gray-300\", \"p-1\", \"focus:border-verde\", \"peer-focus:text-verde\"], [\"id\", \"Graficas\", 1, \"border-2\", \"rounded-md\", \"border-gray-300\", \"p-1\", \"focus:border-verde\", \"peer-focus:text-verde\"], [\"value\", \"0\"], [\"value\", \"5\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n  template: function GraficasgeneralesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"div\");\n      i0.ɵɵelement(3, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function GraficasgeneralesComponent_Template_button_click_5_listener() {\n        return ctx.principaldirector();\n      });\n      i0.ɵɵelement(6, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 5);\n      i0.ɵɵelement(8, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function GraficasgeneralesComponent_Template_button_click_9_listener() {\n        return ctx.logOut();\n      });\n      i0.ɵɵelement(10, \"img\", 8);\n      i0.ɵɵtext(11, \" Cerrar Sesi\\u00F3n \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 9)(13, \"h1\", 10);\n      i0.ɵɵtext(14, \"Graficas Generales\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 11)(16, \"select\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function GraficasgeneralesComponent_Template_select_ngModelChange_16_listener($event) {\n        return ctx.tipoGrafica = $event;\n      });\n      i0.ɵɵelementStart(17, \"option\", 13);\n      i0.ɵɵtext(18, \" Gr\\u00E1ficas Generales \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"option\", 14);\n      i0.ɵɵtext(20, \"Gr\\u00E1ficas por hotel\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 15)(22, \"select\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function GraficasgeneralesComponent_Template_select_ngModelChange_22_listener($event) {\n        return ctx.fechaSelect = $event;\n      });\n      i0.ɵɵelementStart(23, \"option\", 17);\n      i0.ɵɵtext(24, \" Fecha de consulta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\", 13);\n      i0.ɵɵtext(26, \"Este d\\u00EDa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"option\", 14);\n      i0.ɵɵtext(28, \"Este semana\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"option\", 18);\n      i0.ɵɵtext(30, \"Este mes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"option\", 19);\n      i0.ɵɵtext(32, \"Personalizado \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(33, GraficasgeneralesComponent_div_33_Template, 9, 0, \"div\", 20);\n      i0.ɵɵtemplate(34, GraficasgeneralesComponent_select_34_Template, 15, 0, \"select\", 21);\n      i0.ɵɵtemplate(35, GraficasgeneralesComponent_select_35_Template, 4, 1, \"select\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"ngx-charts-bar-horizontal-2d\", 22);\n      i0.ɵɵlistener(\"select\", function GraficasgeneralesComponent_Template_ngx_charts_bar_horizontal_2d_select_36_listener($event) {\n        return ctx.onSelect($event);\n      })(\"activate\", function GraficasgeneralesComponent_Template_ngx_charts_bar_horizontal_2d_activate_36_listener($event) {\n        return ctx.onActivate($event);\n      })(\"deactivate\", function GraficasgeneralesComponent_Template_ngx_charts_bar_horizontal_2d_deactivate_36_listener($event) {\n        return ctx.onDeactivate($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 23);\n      i0.ɵɵtext(38, \" Generar PDF \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngModel\", ctx.tipoGrafica);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.fechaSelect);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.fechaSelect == \"4\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tipoGrafica == \"1\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tipoGrafica == \"2\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"view\", ctx.view)(\"schemeType\", ctx.schemeType)(\"results\", ctx.multi)(\"gradient\", ctx.gradient)(\"xAxis\", ctx.showXAxis)(\"yAxis\", ctx.showYAxis)(\"legend\", ctx.showLegend)(\"legendPosition\", ctx.legendPosition)(\"showXAxisLabel\", ctx.showXAxisLabel)(\"showYAxisLabel\", ctx.showYAxisLabel)(\"xAxisLabel\", ctx.xAxisLabel)(\"yAxisLabel\", ctx.yAxisLabel);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","GraficasgeneralesComponent","constructor","router","_newHotelService","_errorService","_dataService","ngOnInit","fechaSelect","tipoGrafica","getHotels","getMotivoGeneral","subscribe","next","data","nuevo","multi","onSelect","console","log","JSON","parse","stringify","onActivate","onDeactivate","hoteles","error","msjError","principaldirector","navigate","logOut","localStorage","removeItem","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\52311\\Documents\\GPS\\ProyectoWeb-GPS\\hotelanalytics\\src\\app\\components\\graficasgenerales\\graficasgenerales.component.html","C:\\Users\\52311\\Documents\\GPS\\ProyectoWeb-GPS\\hotelanalytics\\src\\app\\components\\graficasgenerales\\graficasgenerales.component.ts"],"sourcesContent":["<div>\r\n\r\n    <div class=\"barra fixed bg-white border-r-2 w-32 flex flex-col border-verde items-center min-h-screen flex-1\">\r\n        <div>\r\n            <img src=\"../../../assets/img/logo.jpeg\" class=\"w-auto h-24 mt-2\">\r\n        </div>\r\n        <div class=\"botones flex flex-col justify-between items-center h-full flex-grow mt-9\">\r\n            <button (click)=\"principaldirector()\">\r\n                <img src=\"../../../assets/img/usuarios.png\" class=\"w-60 h-auto\">\r\n            </button>\r\n            <button class=\"\">\r\n                <img src=\"../../../assets/img/grafico-histograma.png\" class=\"w-60 h-auto\">\r\n            </button>\r\n            <button (click)=\"logOut()\" class=\"flex flex-col items-center\">\r\n                <img src=\"../../../assets/img/salida.png\" class=\"w-60 h-auto\">\r\n                Cerrar Sesión\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contenedor  ml-32 flex flex-col justify-center flex-grow items-center\">\r\n        <h1 class=\"  text-titulo text-2xl font-bold my-12\">Graficas Generales</h1>\r\n        <div class=\"flex flex-col items-center bg-white w-4/5 rounded-lg\">\r\n            <select [(ngModel)]=\"tipoGrafica\" id=\"Graficas\"\r\n                class=\"my-10 border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                <option value=\"1\"> Gráficas Generales </option>\r\n                <option value=\"2\">Gráficas por hotel</option>\r\n            </select>\r\n\r\n            <div class=\"flex justify-center items-start mb-10\">\r\n                <select [(ngModel)]=\"fechaSelect\" id=\"fechaconsulta\"\r\n                    class=\"mr-6 border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                    <option value=\"-1\" selected> Fecha de consulta</option>\r\n                    <option value=\"1\">Este día</option>\r\n                    <option value=\"2\">Este semana</option>\r\n                    <option value=\"3\">Este mes</option>\r\n                    <option value=\"4\">Personalizado\r\n                </select>\r\n\r\n\r\n                <div *ngIf=\"fechaSelect == '4'\" class=\"flex flex-col\">\r\n                    <div class=\"\">\r\n                        <label for=\"fechainicio\"> Fecha Inicio: </label>\r\n                        <input type=\"date\" id=\"fechainicio\" name=\"fecha\"\r\n                            class=\"mr-6 border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                    </div>\r\n                    <div class=\"mt-4\">\r\n                        <label for=\"fechafin\" class=\"\"> Fecha Fin: </label>\r\n                        <input type=\"date\" id=\"fechafin\" name=\"fecha\"\r\n                            class=\"-mr-12 border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                    </div>\r\n                </div>\r\n\r\n                <select *ngIf=\"tipoGrafica == '1'\" id=\"Graficas\"\r\n                    class=\"border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                    <option value=\"-1\" selected> Tipo de hotel</option>\r\n                    <option value=\"0\">Todos</option>\r\n                    <option value=\"1\"> 1 estrellas </option>\r\n                    <option value=\"2\"> 2 estrellas </option>\r\n                    <option value=\"3\"> 3 estrellas </option>\r\n                    <option value=\"4\"> 4 estrellas </option>\r\n                    <option value=\"5\"> 5 estrellas </option>\r\n                </select>\r\n\r\n                <select *ngIf=\"tipoGrafica == '2'\" id=\"Graficas\"\r\n                    class=\"border-2 rounded-md border-gray-300 p-1 focus:border-verde peer-focus:text-verde\">\r\n                    <option value=\"-1\" selected> Seleccione un Hotel </option>\r\n                    <option *ngFor=\"let hotel of hoteles\" [value]=\"hotel.id\">{{hotel.nombre}}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <ngx-charts-bar-horizontal-2d\r\n            [view]=\"view\"\r\n            scheme=\"cool\"\r\n            [schemeType]=\"schemeType\"\r\n            [results]=\"multi\"\r\n            [gradient]=\"gradient\"\r\n            [xAxis]=\"showXAxis\"\r\n            [yAxis]=\"showYAxis\"\r\n            [legend]=\"showLegend\"\r\n            [legendPosition]=\"legendPosition\"\r\n            [showXAxisLabel]=\"showXAxisLabel\"\r\n            [showYAxisLabel]=\"showYAxisLabel\"\r\n            [xAxisLabel]=\"xAxisLabel\"\r\n            [yAxisLabel]=\"yAxisLabel\"\r\n            (select)=\"onSelect($event)\"\r\n            (activate)=\"onActivate($event)\"\r\n            (deactivate)=\"onDeactivate($event)\"\r\n            >\r\n        </ngx-charts-bar-horizontal-2d>\r\n        <button class=\"  bg-verde text-white text-2xl px-20 py-2 mt-8 rounded-lg\">\r\n            Generar PDF\r\n        </button>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NewHotelService } from 'src/app/services/new-hotel.service';\r\nimport { Hotel } from 'src/app/interfaces/hotel';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { ErrorService } from 'src/app/services/error.service';\r\nimport { DataService } from 'src/app/services/data.service';\r\n\r\n@Component({\r\n  selector: 'app-graficasgenerales',\r\n  templateUrl: './graficasgenerales.component.html',\r\n  styleUrls: ['./graficasgenerales.component.css']\r\n})\r\nexport class GraficasgeneralesComponent implements OnInit {\r\n\r\n  fechaSelect = \"\";\r\n  tipoGrafica = \"\";\r\n\r\n  hoteles: Hotel[] = [];\r\n  nuevo:any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private _newHotelService: NewHotelService,\r\n    private _errorService: ErrorService,\r\n    private _dataService: DataService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fechaSelect = \"-1\";\r\n    this.tipoGrafica = \"1\";\r\n    this.getHotels();\r\n\r\n    this._dataService.getMotivoGeneral().subscribe({\r\n      next: data => {\r\n        this.nuevo = data;\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  get multi() {\r\n    return this.nuevo;\r\n  }\r\n\r\n  view: [number, number] = [700, 400];\r\n\r\n  // options\r\n  showXAxis: boolean = true;\r\n  showYAxis: boolean = true;\r\n  gradient: boolean = false;\r\n  showLegend: boolean = true;\r\n  legendPosition: string = 'below';\r\n  showXAxisLabel: boolean = true;\r\n  yAxisLabel: string = 'Hotel';\r\n  showYAxisLabel: boolean = true;\r\n  xAxisLabel = 'Cantidad';\r\n\r\n  schemeType: string = 'ordinal';\r\n\r\n  onSelect(data: any): void {\r\n    console.log('Item clicked', JSON.parse(JSON.stringify(data)));\r\n  }\r\n\r\n  onActivate(data: any): void {\r\n    console.log('Activate', JSON.parse(JSON.stringify(data)));\r\n  }\r\n\r\n  onDeactivate(data: any): void {\r\n    console.log('Deactivate', JSON.parse(JSON.stringify(data)));\r\n  }\r\n\r\n  getHotels() {\r\n    this._newHotelService.getHotels().subscribe({\r\n      next: (data) => {\r\n        this.hoteles = data;\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this._errorService.msjError(error);\r\n      }\r\n    })\r\n  }\r\n\r\n  principaldirector() {\r\n    this.router.navigate(['/principaldirector']);\r\n  };\r\n\r\n  logOut() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('tipo_usuario');\r\n    this.router.navigate(['/login'])\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}