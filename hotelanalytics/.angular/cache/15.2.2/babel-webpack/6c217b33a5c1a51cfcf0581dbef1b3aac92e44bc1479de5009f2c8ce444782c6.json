{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/inicio.service\";\nimport * as i2 from \"src/app/services/error.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nexport class InicioComponent {\n  constructor(_inicioService, _errorService, toastr, router) {\n    this._inicioService = _inicioService;\n    this._errorService = _errorService;\n    this.toastr = toastr;\n    this.router = router;\n    this.newPassword = '';\n    this.confirmNewPassword = '';\n    this.user = {\n      user: '',\n      password: ''\n    };\n  }\n  actualizarPassword() {\n    const userLocal = localStorage.getItem('user');\n    const tipo_usuario = localStorage.getItem('tipo_usuario');\n    if (this.newPassword === \"\" || this.confirmNewPassword === \"\") {\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\n      return;\n    }\n    if (this.newPassword === this.confirmNewPassword) {\n      this.user.user = userLocal;\n      this.user.password = this.newPassword;\n      this._inicioService.newPassword(this.user).subscribe({\n        next: res => {\n          this.toastr.success('Contraseña actualizadda correctamente', 'Correcto');\n          if (tipo_usuario === \"admin\") {\n            this.router.navigate(['/principaldirector']);\n          } else if (tipo_usuario === \"gerente\") {\n            this.router.navigate(['/principalgerente']);\n          } else if (tipo_usuario === \"recepcionista\") {\n            this.router.navigate(['/principalrecepcionista']);\n          }\n        },\n        error: error => {\n          this._errorService.msjError(error);\n        }\n      });\n    } else {\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\n      return;\n    }\n  }\n}\nInicioComponent.ɵfac = function InicioComponent_Factory(t) {\n  return new (t || InicioComponent)(i0.ɵɵdirectiveInject(i1.InicioService), i0.ɵɵdirectiveInject(i2.ErrorService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.Router));\n};\nInicioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InicioComponent,\n  selectors: [[\"app-inicio\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"bg-verde\", \"w-full\", \"h-24\", \"mb-10\"], [\"src\", \"../../../assets/img/logo.png \", 1, \"h-24\"], [1, \"flex\", \"h-64\", \"justify-center\"], [1, \"text-titulo\", \"text-2xl\", \"font-bold\", \"mb-12\", \"ml-48\"], [1, \"px-14\", \"py-5\", \"bg-white\", \"w-740\", \"h-480\", \"rounded-lg\"], [1, \"text-2xl\", \"font-semibold\", \"mx-48\"], [1, \"relative\", \"z-0\", \"my-10\"], [\"type\", \"password\", \"id\", \"nuevacontra\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-sm\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-blue-600\", \"peer\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"nuevacontra\", 1, \"absolute\", \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-blue-600\", \"peer-focus:dark:text-blue-500\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [1, \"relative\", \"z-0\", \"my-5\"], [\"type\", \"password\", \"id\", \"repcontra\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-sm\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-blue-600\", \"peer\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"repcontra\", 1, \"absolute\", \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-blue-600\", \"peer-focus:dark:text-blue-500\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [1, \"bg-verde\", \"text-white\", \"text-2xl\", \"px-20\", \"py-1\", \"mt-24\", \"mx-48\", 3, \"click\"]],\n  template: function InicioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\")(4, \"h1\", 3);\n      i0.ɵɵtext(5, \"Bienvenido a HotelAnalytics\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"p\", 5);\n      i0.ɵɵtext(8, \"Define tu Contrase\\u00F1a \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function InicioComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.newPassword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 8);\n      i0.ɵɵtext(12, \" Nueva Contrase\\u00F1a\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function InicioComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.confirmNewPassword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"label\", 11);\n      i0.ɵɵtext(16, \" Repite tu contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function InicioComponent_Template_button_click_17_listener() {\n        return ctx.actualizarPassword();\n      });\n      i0.ɵɵtext(18, \" Guardar \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPassword);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.confirmNewPassword);\n    }\n  },\n  dependencies: [i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAaA,OAAM,MAAOA,eAAe;EAO1BC,YACUC,cAA6B,EAC7BC,aAA2B,EAC3BC,MAAqB,EACrBC,MAAc;IAHd,mBAAc,GAAdH,cAAc;IACd,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IAVhB,gBAAW,GAAG,EAAE;IAChB,uBAAkB,GAAG,EAAE;IACvB,SAAI,GAAS;MACXC,IAAI,EAAC,EAAE;MACPC,QAAQ,EAAC;KACV;EAME;EAEHC,kBAAkB;IAChB,MAAMC,SAAS,GAAOC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAClD,MAAMC,YAAY,GAAOF,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAE7D,IAAI,IAAI,CAACE,WAAW,KAAK,EAAE,IAAI,IAAI,CAACC,kBAAkB,KAAK,EAAE,EAAE;MAC7D,IAAI,CAACV,MAAM,CAACW,KAAK,CAAC,mCAAmC,EAAE,OAAO,CAAC;MAC/D;;IAGF,IAAI,IAAI,CAACF,WAAW,KAAK,IAAI,CAACC,kBAAkB,EAAE;MAChD,IAAI,CAACR,IAAI,CAACA,IAAI,GAAGG,SAAS;MAC1B,IAAI,CAACH,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACM,WAAW;MACrC,IAAI,CAACX,cAAc,CAACW,WAAW,CAAC,IAAI,CAACP,IAAI,CAAC,CAACU,SAAS,CAAC;QACjDC,IAAI,EAAGC,GAAG,IAAI;UACZ,IAAI,CAACd,MAAM,CAACe,OAAO,CAAC,uCAAuC,EAAE,UAAU,CAAC;UACxE,IAAIP,YAAY,KAAK,OAAO,EAAE;YAC5B,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;WAC/C,MAAM,IAAIR,YAAY,KAAK,SAAS,EAAE;YACnC,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;WAC9C,MAAM,IAAIR,YAAY,KAAK,eAAe,EAAE;YACzC,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC;;QAErD,CAAC;QACDL,KAAK,EAAGA,KAAwB,IAAI;UAClC,IAAI,CAACZ,aAAa,CAACkB,QAAQ,CAACN,KAAK,CAAC;QACpC;OACH,CAAC;KACH,MAAM;MACL,IAAI,CAACX,MAAM,CAACW,KAAK,CAAC,mCAAmC,EAAE,OAAO,CAAC;MAC/D;;EAEJ;;AA7CWf,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb5BC,8BAAwC;MACpCA,yBAAsD;MAC1DA,iBAAM;MAENA,8BAAwC;MAEyBA,2CAA2B;MAAAA,iBAAK;MACzFA,8BAA0D;MACdA,0CAAqB;MAAAA,iBAAI;MACjEA,8BAAgC;MACLA;QAAA;MAAA,EAAyB;MAAhDA,iBAEsB;MACtBA,iCACiU;MAC7TA,uCAAgB;MAAAA,iBAAQ;MAEhCA,+BAA+B;MACJA;QAAA;MAAA,EAAgC;MAAvDA,iBAEsB;MACtBA,kCACiU;MAC7TA,2CAAoB;MAAAA,iBAAQ;MAChCA,mCAAmG;MAA3FA;QAAA,OAASC,wBAAoB;MAAA,EAAC;MAClCD,0BACJ;MAAAA,iBAAS;;;MAhBcA,gBAAyB;MAAzBA,yCAAyB;MAQzBA,eAAgC;MAAhCA,gDAAgC","names":["InicioComponent","constructor","_inicioService","_errorService","toastr","router","user","password","actualizarPassword","userLocal","localStorage","getItem","tipo_usuario","newPassword","confirmNewPassword","error","subscribe","next","res","success","navigate","msjError","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\Juan Pablo\\OneDrive\\Documentos\\GPS\\ProyectoWeb-GPS\\hotelanalytics\\src\\app\\components\\inicio\\inicio.component.ts","C:\\Users\\Juan Pablo\\OneDrive\\Documentos\\GPS\\ProyectoWeb-GPS\\hotelanalytics\\src\\app\\components\\inicio\\inicio.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { User } from 'src/app/interfaces/user';\r\nimport { ErrorService } from 'src/app/services/error.service';\r\nimport { InicioService } from 'src/app/services/inicio.service';\r\n\r\n@Component({\r\n  selector: 'app-inicio',\r\n  templateUrl: './inicio.component.html',\r\n  styleUrls: ['./inicio.component.css']\r\n})\r\nexport class InicioComponent {\r\n  newPassword = '';\r\n  confirmNewPassword = '';\r\n  user: User = {\r\n    user:'',\r\n    password:''\r\n  };\r\n  constructor(\r\n    private _inicioService: InicioService,\r\n    private _errorService: ErrorService,\r\n    private toastr: ToastrService,\r\n    private router: Router\r\n  ){ }\r\n\r\n  actualizarPassword() {\r\n    const userLocal:any = localStorage.getItem('user');\r\n    const tipo_usuario:any = localStorage.getItem('tipo_usuario');\r\n\r\n    if (this.newPassword === \"\" || this.confirmNewPassword === \"\") {\r\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\r\n      return\r\n    }\r\n\r\n    if (this.newPassword === this.confirmNewPassword) {\r\n      this.user.user = userLocal;\r\n      this.user.password = this.newPassword;\r\n      this._inicioService.newPassword(this.user).subscribe({\r\n          next: (res) => {\r\n            this.toastr.success('Contraseña actualizadda correctamente', 'Correcto');\r\n            if (tipo_usuario === \"admin\") {\r\n              this.router.navigate(['/principaldirector']);\r\n          } else if (tipo_usuario === \"gerente\") {\r\n              this.router.navigate(['/principalgerente']);\r\n          } else if (tipo_usuario === \"recepcionista\") {\r\n              this.router.navigate(['/principalrecepcionista']);\r\n          }\r\n          },\r\n          error: (error: HttpErrorResponse) => {\r\n            this._errorService.msjError(error);\r\n          }\r\n      })  \r\n    } else {\r\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\r\n      return\r\n    }\r\n  }\r\n}\r\n","<div class=\"bg-verde w-full h-24 mb-10\">\r\n    <img src=\"../../../assets/img/logo.png \" class=\"h-24\">\r\n</div>\r\n\r\n<div class=\"flex h-64 justify-center  \">\r\n    <div>\r\n        <h1 class=\"text-titulo text-2xl  font-bold  mb-12 ml-48\">Bienvenido a HotelAnalytics</h1>\r\n        <div class=\" px-14 py-5  bg-white w-740 h-480 rounded-lg\">\r\n            <p class=\"text-2xl font-semibold mx-48\">Define tu Contraseña </p>\r\n            <div class=\"relative z-0 my-10\">\r\n                <input type=\"password\" [(ngModel)]=\"newPassword\" id=\"nuevacontra\"\r\n                    class=\"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer\"\r\n                    placeholder=\" \" />\r\n                <label for=\"nuevacontra\"\r\n                    class=\"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n                    Nueva Contraseña</label>\r\n            </div>\r\n            <div class=\"relative z-0 my-5\">\r\n                <input type=\"password\" [(ngModel)]=\"confirmNewPassword\" id=\"repcontra\"\r\n                    class=\"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer\"\r\n                    placeholder=\" \" />\r\n                <label for=\"repcontra\"\r\n                    class=\"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n                    Repite tu contraseña</label>\r\n                <button (click)=\"actualizarPassword()\" class=\"bg-verde text-white text-2xl px-20 py-1 mt-24 mx-48\">\r\n                    Guardar\r\n                </button>\r\n\r\n            </div>\r\n        </div>\r\n    </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}