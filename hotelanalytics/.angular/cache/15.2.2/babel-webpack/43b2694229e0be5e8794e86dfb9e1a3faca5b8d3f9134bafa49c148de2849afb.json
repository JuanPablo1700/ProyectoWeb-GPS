{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"src/app/services/new-hotel.service\";\nimport * as i4 from \"src/app/services/error.service\";\nimport * as i5 from \"@angular/forms\";\nexport class EditarhotelComponent {\n  constructor(router, toastr, _newHotelService, _errorService, route) {\n    this.router = router;\n    this.toastr = toastr;\n    this._newHotelService = _newHotelService;\n    this._errorService = _errorService;\n    this.route = route;\n    this.hotel = {\n      id: 0,\n      nombre: '',\n      direccion: '',\n      correo: '',\n      telefono: '',\n      estrellas: 0,\n      estado: '',\n      activo: 0\n    };\n    this.id = 0;\n    this.nombre = '';\n    this.direccion = '';\n    this.correo = '';\n    this.telefono = '';\n    this.estrellas = 0;\n    this.estado = '';\n    this.activo = 0;\n  }\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    const idInt = parseInt(this.id);\n    this.getHotel(idInt);\n  }\n  getHotel(id) {\n    this._newHotelService.getHotel(id).subscribe({\n      next: data => {\n        this.hotel = data;\n      },\n      error: error => {\n        this._errorService.msjError(error);\n      }\n    });\n  }\n  validar() {\n    //falta validar selects y que sean teléfonos y correos válidos\n    this.nombre = this.nombre.trim();\n    this.direccion = this.direccion.trim();\n    this.correo = this.correo.trim();\n    this.telefono = this.telefono.trim();\n    const telefonoRegex = /^(\\+?\\d{1,2}\\s)?(\\d{10,13})$/;\n    const correoRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    if (this.nombre == '') {\n      this.toastr.error('Campo nombre obligatorio', 'Error');\n      return false;\n    }\n    if (this.direccion == '') {\n      this.toastr.error('Campo direccion obligatorio', 'Error');\n      return false;\n    }\n    if (this.telefono == '') {\n      this.toastr.error('Campo teléfono obligatorio', 'Error');\n      return false;\n    }\n    if (!telefonoRegex.test(this.telefono)) {\n      this.toastr.error('Teléfono inválido', 'Error');\n      return false;\n    }\n    if (this.correo == '') {\n      this.toastr.error('Campo correo obligatorio', 'Error');\n      return false;\n    }\n    if (!correoRegex.test(this.correo)) {\n      this.toastr.error('Correo inválido', 'Error');\n      return false;\n    }\n    if (this.estrellas == -1) {\n      this.toastr.error('Campo estrellas obligatorio', 'Error');\n      return false;\n    }\n    if (this.estado.trim() == '') {\n      this.toastr.error('Campo estado obligatorio', 'Error');\n      return;\n    }\n    return true;\n  }\n  actualizar() {\n    if (this.validar()) {\n      const hotel = {\n        id: this.id,\n        nombre: this.nombre,\n        direccion: this.direccion,\n        correo: this.correo,\n        telefono: this.telefono,\n        estrellas: this.estrellas,\n        activo: this.activo,\n        estado: this.estado\n      };\n      this._newHotelService.updateHotel(this.id, hotel).subscribe({\n        next: () => {\n          this.toastr.success('Hotel actualizado correctamente', 'Correcto');\n        },\n        error: error => {\n          this._errorService.msjError(error);\n        }\n      });\n      this.router.navigate(['/principaldirector']);\n    }\n  }\n  logOut() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('tipo_usuario');\n    this.router.navigate(['/login']);\n  }\n}\nEditarhotelComponent.ɵfac = function EditarhotelComponent_Factory(t) {\n  return new (t || EditarhotelComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NewHotelService), i0.ɵɵdirectiveInject(i4.ErrorService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nEditarhotelComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditarhotelComponent,\n  selectors: [[\"app-editarhotel\"]],\n  decls: 62,\n  vars: 12,\n  consts: [[1, \"flex\", \"h-full\", \"w-full\", \"overflow-auto\"], [1, \"barra\", \"fixed\", \"bg-white\", \"border-r-2\", \"w-32\", \"flex\", \"flex-col\", \"border-verde\", \"items-center\", \"min-h-screen\", \"flex-1\"], [\"src\", \"../../../assets/img/logo.jpeg\", 1, \"w-auto\", \"h-24\", \"mt-2\"], [1, \"botones\", \"flex\", \"flex-col\", \"justify-between\", \"items-center\", \"h-full\", \"flex-grow\", \"mt-9\"], [1, \"\"], [\"src\", \"../../../assets/img/usuarios.png\", 1, \"w-60\", \"h-auto\"], [\"src\", \"../../../assets/img/grafico-histograma.png\", 1, \"w-60\", \"h-auto\"], [1, \"flex\", \"flex-col\", \"items-center\", 3, \"click\"], [\"src\", \"../../../assets/img/salida.png\", 1, \"w-60\", \"h-auto\"], [1, \"contenedor\", \"ml-32\", \"flex\", \"h-full\", \"justify-center\", \"flex-grow\", \"items-center\"], [1, \"mx-16\", \"mt-10\", \"flex\", \"flex-col\", \"justify-start\", \"items-center\", \"bg-white\", \"w-nuehotel-w\", \"h-800\", \"rounded-lg\"], [1, \"self-center\", \"text-titulo\", \"text-2xl\", \"font-bold\", \"flex-grow-0\", \"flex-shrink-0\", \"mt-5\"], [1, \"mx-14\", \"my-10\", \"flex\", \"flex-col\", \"w-ficha-w\", \"h-800\"], [\"action\", \"insertar()\"], [1, \"relative\", \"z-0\", \"my-5\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-base\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-verde\", \"peer\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"nombre\", 1, \"absolute\", \"text-base\", \"text-gray-900\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-verde\", \"peer-focus:dark:text-verde\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [\"type\", \"text\", \"id\", \"direccion\", \"name\", \"direccion\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-base\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-verde\", \"peer\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"direccion\", 1, \"absolute\", \"text-base\", \"text-gray-900\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-verde\", \"peer-focus:dark:text-verde\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [\"type\", \"text\", \"id\", \"telefono\", \"name\", \"telefono\", \"required\", \"\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-base\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-verde\", \"peer\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"telefono\", 1, \"absolute\", \"text-base\", \"text-gray-900\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-verde\", \"peer-focus:dark:text-verde\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [\"type\", \"email\", \"id\", \"correo\", \"name\", \"correo\", \"readonly\", \"\", \"placeholder\", \" \", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-base\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-verde\", \"peer\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"correo\", 1, \"absolute\", \"text-base\", \"text-gray-900\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:left-0\", \"peer-focus:text-verde\", \"peer-focus:dark:text-verde\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [\"for\", \"estrellas\", 1, \"mb-1\"], [1, \"selects\", \"grid\"], [\"id\", \"estrellas\", \"name\", \"estrellas\", 1, \"mb-5\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"focus:border-verde\", \"peer-focus:text-verde\", 3, \"value\", \"ngModel\", \"ngModelChange\"], [\"value\", \"-1\", \"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"for\", \"estado\", 1, \"mb-1\"], [\"id\", \"estado\", \"name\", \"estado\", 1, \"mb-5\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"focus:border-verde\", \"peer-focus:text-verde\", 3, \"value\", \"ngModel\", \"ngModelChange\"], [\"value\", \"0\"], [1, \"flex\", \"justify-center\"], [\"type\", \"submit\", 1, \"bg-verde\", \"text-white\", \"text-2xl\", \"px-20\", \"py-1\", \"mt-14\", \"rounded-lg\", \"focus:border-verde\", 3, \"click\"]],\n  template: function EditarhotelComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\");\n      i0.ɵɵelement(3, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n      i0.ɵɵelement(6, \"img\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 4);\n      i0.ɵɵelement(8, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function EditarhotelComponent_Template_button_click_9_listener() {\n        return ctx.logOut();\n      });\n      i0.ɵɵelement(10, \"img\", 8);\n      i0.ɵɵtext(11, \" Cerrar Sesi\\u00F3n \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"p\", 11);\n      i0.ɵɵtext(15, \" Nuevo Hotel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 12)(17, \"form\", 13)(18, \"div\", 14)(19, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.hotel.nombre = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\", 16);\n      i0.ɵɵtext(21, \" Nombre \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 14)(23, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.direccion = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"label\", 18);\n      i0.ɵɵtext(25, \" Direcci\\u00F3n\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 14)(27, \"input\", 19);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.telefono = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"label\", 20);\n      i0.ɵɵtext(29, \" Tel\\u00E9fono\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 14)(31, \"input\", 21);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_input_ngModelChange_31_listener($event) {\n        return ctx.correo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"label\", 22);\n      i0.ɵɵtext(33, \" Correo electr\\u00F3nico\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"label\", 23);\n      i0.ɵɵtext(35, \"Estrellas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 24)(37, \"select\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.estrellas = $event;\n      });\n      i0.ɵɵelementStart(38, \"option\", 26);\n      i0.ɵɵtext(39, \"Seleccionar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"option\", 27);\n      i0.ɵɵtext(41, \"1 Estrella\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"option\", 28);\n      i0.ɵɵtext(43, \"2 Estrellas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"option\", 29);\n      i0.ɵɵtext(45, \"3 Estrellas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"option\", 30);\n      i0.ɵɵtext(47, \"4 Estrellas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"option\", 31);\n      i0.ɵɵtext(49, \"5 Estrellas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(50, \"label\", 32);\n      i0.ɵɵtext(51, \"Estado\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"select\", 33);\n      i0.ɵɵlistener(\"ngModelChange\", function EditarhotelComponent_Template_select_ngModelChange_52_listener($event) {\n        return ctx.estado = $event;\n      });\n      i0.ɵɵelementStart(53, \"option\", 26);\n      i0.ɵɵtext(54, \"Seleccionar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\", 27);\n      i0.ɵɵtext(56, \"Activo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"option\", 34);\n      i0.ɵɵtext(58, \"Inactivo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(59, \"div\", 35)(60, \"button\", 36);\n      i0.ɵɵlistener(\"click\", function EditarhotelComponent_Template_button_click_60_listener() {\n        return ctx.actualizar();\n      });\n      i0.ɵɵtext(61, \" Guardar \");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(19);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.nombre);\n      i0.ɵɵproperty(\"ngModel\", ctx.hotel.nombre);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.direccion);\n      i0.ɵɵproperty(\"ngModel\", ctx.direccion);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.telefono);\n      i0.ɵɵproperty(\"ngModel\", ctx.telefono);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.correo);\n      i0.ɵɵproperty(\"ngModel\", ctx.correo);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.estrellas);\n      i0.ɵɵproperty(\"ngModel\", ctx.estrellas);\n      i0.ɵɵadvance(15);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.hotel.activo);\n      i0.ɵɵproperty(\"ngModel\", ctx.estado);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nfunction getIdFromUrl() {\n  throw new Error('Function not implemented.');\n}","map":{"version":3,"mappings":"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","names":["EditarhotelComponent","constructor","router","toastr","_newHotelService","_errorService","route","id","nombre","direccion","correo","telefono","estrellas","estado","activo","ngOnInit","snapshot","paramMap","get","idInt","parseInt","getHotel","subscribe","next","data","hotel","error","msjError","validar","trim","telefonoRegex","correoRegex","test","actualizar","updateHotel","success","navigate","logOut","localStorage","removeItem","selectors","decls","vars","consts","template","i0","ctx","getIdFromUrl","Error"],"sourceRoot":"","sources":["/Users/juanpablo/Documents/Escuela/GPS/ProyectoWeb-GPS/hotelanalytics/src/app/components/editarhotel/editarhotel.component.ts","/Users/juanpablo/Documents/Escuela/GPS/ProyectoWeb-GPS/hotelanalytics/src/app/components/editarhotel/editarhotel.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Hotel } from 'src/app/interfaces/hotel';\nimport { ErrorService } from 'src/app/services/error.service';\nimport { NewHotelService } from 'src/app/services/new-hotel.service';\n\n@Component({\n  selector: 'app-editarhotel',\n  templateUrl: './editarhotel.component.html',\n  styleUrls: ['./editarhotel.component.css']\n})\nexport class EditarhotelComponent implements OnInit {\n\n  hotel: Hotel = {\n    id: 0,\n    nombre: '',\n    direccion: '',\n    correo: '',\n    telefono: '',\n    estrellas: 0,\n    estado: '',\n    activo: 0\n  };\n\n  id: any = 0;\n  nombre: string = '';\n  direccion: string = '';\n  correo: string = '';\n  telefono: string = '';\n  estrellas: number = 0;\n  estado: string = '';\n  activo: number = 0;\n\n  constructor(\n    private router: Router,\n    private toastr: ToastrService,\n    private _newHotelService: NewHotelService,\n    private _errorService: ErrorService,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    this.id = this.route.snapshot.paramMap.get('id');\n    \n    const idInt = parseInt(this.id);\n    this.getHotel(idInt);\n  }\n\n  getHotel(id: number) {\n    this._newHotelService.getHotel(id).subscribe({\n      next: (data: any) => {\n        this.hotel = data;\n      },\n      error: (error: HttpErrorResponse) => {\n        this._errorService.msjError(error);\n      }\n    })\n  }\n\n  private validar() {\n    //falta validar selects y que sean teléfonos y correos válidos\n\n    this.nombre = this.nombre.trim();\n    this.direccion = this.direccion.trim();\n    this.correo = this.correo.trim();\n    this.telefono = this.telefono.trim();\n\n    const telefonoRegex = /^(\\+?\\d{1,2}\\s)?(\\d{10,13})$/;\n    const correoRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n\n\n    if (this.nombre == '') {\n      this.toastr.error('Campo nombre obligatorio', 'Error')\n      return false;\n    }\n    if (this.direccion == '') {\n      this.toastr.error('Campo direccion obligatorio', 'Error')\n      return false;\n    }\n    if (this.telefono == '') {\n      this.toastr.error('Campo teléfono obligatorio', 'Error')\n      return false;\n    }\n    if (!telefonoRegex.test(this.telefono)) {\n      this.toastr.error('Teléfono inválido', 'Error')\n      return false;\n    }\n    if (this.correo == '') {\n      this.toastr.error('Campo correo obligatorio', 'Error')\n      return false;\n    }\n    if (!correoRegex.test(this.correo)) {\n      this.toastr.error('Correo inválido', 'Error')\n      return false;\n    }\n    if (this.estrellas == -1) {\n      this.toastr.error('Campo estrellas obligatorio', 'Error')\n      return false;\n    }\n    if (this.estado.trim() == '') {\n      this.toastr.error('Campo estado obligatorio', 'Error')\n      return\n    }\n    return true;\n  }\n\n  actualizar() {\n    if (this.validar()) {\n      const hotel: Hotel = {\n        id: this.id,\n        nombre: this.nombre,\n        direccion: this.direccion,\n        correo: this.correo,\n        telefono: this.telefono,\n        estrellas: this.estrellas,\n        activo: this.activo,\n        estado: this.estado\n      }\n\n      this._newHotelService.updateHotel(this.id, hotel).subscribe({\n        next: () => {\n          this.toastr.success('Hotel actualizado correctamente', 'Correcto');\n        },\n        error: (error: HttpErrorResponse) => {\n          this._errorService.msjError(error);\n        }\n      })\n      this.router.navigate(['/principaldirector']);\n    }\n  }\n\n  logOut() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('tipo_usuario');\n    this.router.navigate(['/login'])\n  }\n}\nfunction getIdFromUrl(): string | null {\n  throw new Error('Function not implemented.');\n}\n\n","<div class=\"flex h-full w-full overflow-auto\">\n    <div class=\"barra fixed bg-white border-r-2 w-32 flex flex-col border-verde items-center min-h-screen flex-1\">\n        <div>\n            <img src=\"../../../assets/img/logo.jpeg\" class=\"w-auto h-24 mt-2\" />\n        </div>\n        <div class=\"botones flex flex-col justify-between items-center h-full flex-grow mt-9\">\n            <button class=\"\">\n                <img src=\"../../../assets/img/usuarios.png\" class=\"w-60 h-auto\" />\n            </button>\n            <button class=\"\">\n                <img src=\"../../../assets/img/grafico-histograma.png\" class=\"w-60 h-auto\" />\n            </button>\n            <button (click)=\"logOut()\" class=\"flex flex-col items-center\">\n                <img src=\"../../../assets/img/salida.png\" class=\"w-60 h-auto\" />\n                Cerrar Sesión\n            </button>\n        </div>\n    </div>\n\n    <div class=\"contenedor ml-32 flex h-full justify-center flex-grow items-center\">\n\n        <div class=\"mx-16 mt-10 flex flex-col justify-start items-center  bg-white w-nuehotel-w h-800 rounded-lg\">\n            <p class=\"self-center text-titulo text-2xl font-bold flex-grow-0 flex-shrink-0 mt-5\">\n                Nuevo Hotel\n            </p>\n            <div class=\"mx-14 my-10 flex flex-col w-ficha-w h-800\">\n                <form action=\"insertar()\">\n                    <div class=\"relative z-0 my-5\">\n                        <input type=\"text\" id=\"nombre\" name=\"nombre\" [(ngModel)]=\"hotel.nombre\" value=\"{{hotel.nombre}}\"\n                            class=\"block py-2.5 px-0 w-full text-base text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-verde peer\"\n                            placeholder=\" \" /> \n                        <label for=\"nombre\"\n                            class=\"absolute text-base text-gray-900 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-verde peer-focus:dark:text-verde peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\n                            Nombre\n                        </label>\n                    </div>\n                    <div class=\"relative z-0 my-5\">\n                        <input type=\"text\" id=\"direccion\" name=\"direccion\" [(ngModel)]=\"direccion\" value=\"{{hotel.direccion}}\"\n                            class=\"block py-2.5 px-0 w-full text-base text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-verde peer\"\n                            placeholder=\" \" />\n                        <label for=\"direccion\"\n                            class=\"absolute text-base text-gray-900 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-verde peer-focus:dark:text-verde peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\n                            Dirección</label>\n                    </div>\n                    <div class=\"relative z-0 my-5\">\n                        <input type=\"text\" id=\"telefono\" name=\"telefono\" [(ngModel)]=\"telefono\" value=\"{{hotel.telefono}}\" required\n                            class=\"block py-2.5 px-0 w-full text-base text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-verde peer\"\n                            placeholder=\" \" />\n                        <label for=\"telefono\"\n                            class=\"absolute text-base text-gray-900 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-verde peer-focus:dark:text-verde peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\n                            Teléfono</label>\n                    </div>\n                    <div class=\"relative z-0 my-5\">\n                        <input type=\"email\" id=\"correo\" name=\"correo\" [(ngModel)]=\"correo\" value=\"{{hotel.correo}}\" readonly\n                            class=\"block py-2.5 px-0 w-full text-base text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-verde peer\"\n                            placeholder=\" \" />\n                        <label for=\"correo\"\n                            class=\"absolute text-base text-gray-900 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-verde peer-focus:dark:text-verde peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\n                            Correo electrónico</label>\n                    </div>\n\n                    <label for=\"estrellas\" class=\"mb-1\">Estrellas</label>\n                    <div class=\"selects grid\">\n                        <select id=\"estrellas\"\n                            class=\"mb-5 border-0 border-b-2 border-gray-300 focus:border-verde peer-focus:text-verde\" value=\"{{hotel.estrellas}}\"\n                            name=\"estrellas\" [(ngModel)]=\"estrellas\">\n                            <option value=\"-1\" selected>Seleccionar</option>\n                            <option value=\"1\">1 Estrella</option>\n                            <option value=\"2\">2 Estrellas</option>\n                            <option value=\"3\">3 Estrellas</option>\n                            <option value=\"4\">4 Estrellas</option>\n                            <option value=\"5\">5 Estrellas</option>\n                        </select>\n\n                        <label for=\"estado\" class=\"mb-1\">Estado</label>\n                        <select id=\"estado\" value=\"{{hotel.activo}}\"\n                            class=\"mb-5 border-0 border-b-2 border-gray-300  focus:border-verde peer-focus:text-verde\"\n                            name=\"estado\" [(ngModel)]=\"estado\">\n                            <option value=\"-1\" selected>Seleccionar</option>\n                            <option value=\"1\">Activo</option>\n                            <option value=\"0\">Inactivo</option>\n                        </select>\n                    </div>\n                    <div class=\" flex justify-center\">\n                        <button (click)=\"actualizar()\" type=\"submit\"\n                            class=\"bg-verde text-white text-2xl px-20 py-1 mt-14 rounded-lg  focus:border-verde \">\n                            Guardar\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}