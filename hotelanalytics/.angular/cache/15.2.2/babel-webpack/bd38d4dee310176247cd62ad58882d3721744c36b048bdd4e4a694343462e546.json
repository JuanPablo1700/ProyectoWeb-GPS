{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nc;\nlet InicioComponent = class InicioComponent {\n  constructor(_inicioService, _errorService, toastr, router) {\n    this._inicioService = _inicioService;\n    this._errorService = _errorService;\n    this.toastr = toastr;\n    this.router = router;\n    this.newPassword = '';\n    this.confirmNewPassword = '';\n    this.user = {\n      user: '',\n      password: ''\n    };\n  }\n  actualizarPassword() {\n    const userLocal = localStorage.getItem('user');\n    const tipo_usuario = localStorage.getItem('tipo_usuario');\n    if (this.newPassword === \"\" || this.confirmNewPassword === \"\") {\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\n      return;\n    }\n    if (this.newPassword === this.confirmNewPassword) {\n      this.user.user = userLocal;\n      this.user.password = this.newPassword;\n      this._inicioService.newPassword(this.user).subscribe({\n        next: res => {\n          this.toastr.success('Contrase単a actualizadda correctamente', 'Correcto');\n          if (tipo_usuario === \"admin\") {\n            this.router.navigate(['/principaldirector']);\n          } else if (tipo_usuario === \"gerente\") {\n            this.router.navigate(['/principalgerente']);\n          } else if (tipo_usuario === \"recepcionista\") {\n            this.router.navigate(['/principalrecepcionista']);\n          }\n        },\n        error: error => {\n          this._errorService.msjError(error);\n        }\n      });\n    } else {\n      this.toastr.error('Las contrase単as no coinciden', 'Error');\n      return;\n    }\n  }\n};\nInicioComponent = __decorate([Component({\n  selector: 'app-inicio',\n  templateUrl: './inicio.component.html',\n  styleUrls: ['./inicio.component.css']\n})], InicioComponent);\nexport { InicioComponent };","map":{"version":3,"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAIzCC,CAAC;AAQM,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAO1BC,YACUC,cAA6B,EAC7BC,aAA2B,EAC3BC,MAAqB,EACrBC,MAAc;IAHd,mBAAc,GAAdH,cAAc;IACd,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IAVhB,gBAAW,GAAG,EAAE;IAChB,uBAAkB,GAAG,EAAE;IACvB,SAAI,GAAS;MACXC,IAAI,EAAC,EAAE;MACPC,QAAQ,EAAC;KACV;EAME;EAEHC,kBAAkB;IAChB,MAAMC,SAAS,GAAOC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAClD,MAAMC,YAAY,GAAOF,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAE7D,IAAI,IAAI,CAACE,WAAW,KAAK,EAAE,IAAI,IAAI,CAACC,kBAAkB,KAAK,EAAE,EAAE;MAC7D,IAAI,CAACV,MAAM,CAACW,KAAK,CAAC,mCAAmC,EAAE,OAAO,CAAC;MAC/D;;IAGF,IAAI,IAAI,CAACF,WAAW,KAAK,IAAI,CAACC,kBAAkB,EAAE;MAChD,IAAI,CAACR,IAAI,CAACA,IAAI,GAAGG,SAAS;MAC1B,IAAI,CAACH,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACM,WAAW;MACrC,IAAI,CAACX,cAAc,CAACW,WAAW,CAAC,IAAI,CAACP,IAAI,CAAC,CAACU,SAAS,CAAC;QACjDC,IAAI,EAAGC,GAAG,IAAI;UACZ,IAAI,CAACd,MAAM,CAACe,OAAO,CAAC,uCAAuC,EAAE,UAAU,CAAC;UACxE,IAAIP,YAAY,KAAK,OAAO,EAAE;YAC5B,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;WAC/C,MAAM,IAAIR,YAAY,KAAK,SAAS,EAAE;YACnC,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;WAC9C,MAAM,IAAIR,YAAY,KAAK,eAAe,EAAE;YACzC,IAAI,CAACP,MAAM,CAACe,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC;;QAErD,CAAC;QACDL,KAAK,EAAGA,KAAwB,IAAI;UAClC,IAAI,CAACZ,aAAa,CAACkB,QAAQ,CAACN,KAAK,CAAC;QACpC;OACH,CAAC;KACH,MAAM;MACL,IAAI,CAACX,MAAM,CAACW,KAAK,CAAC,8BAA8B,EAAE,OAAO,CAAC;MAC1D;;EAEJ;CACD;AA9CYf,eAAe,eAL3BF,SAAS,CAAC;EACTwB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWxB,eAAe,CA8C3B;SA9CYA,eAAe","names":["Component","c","InicioComponent","constructor","_inicioService","_errorService","toastr","router","user","password","actualizarPassword","userLocal","localStorage","getItem","tipo_usuario","newPassword","confirmNewPassword","error","subscribe","next","res","success","navigate","msjError","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/juanpablo/Documents/Escuela/GPS/ProyectoWeb-GPS/hotelanalytics/src/app/components/inicio/inicio.component.ts"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { User } from 'src/app/interfaces/user';\nc\nimport { InicioService } from 'src/app/services/inicio.service';\n\n@Component({\n  selector: 'app-inicio',\n  templateUrl: './inicio.component.html',\n  styleUrls: ['./inicio.component.css']\n})\nexport class InicioComponent {\n  newPassword = '';\n  confirmNewPassword = '';\n  user: User = {\n    user:'',\n    password:''\n  };\n  constructor(\n    private _inicioService: InicioService,\n    private _errorService: ErrorService,\n    private toastr: ToastrService,\n    private router: Router\n  ){ }\n\n  actualizarPassword() {\n    const userLocal:any = localStorage.getItem('user');\n    const tipo_usuario:any = localStorage.getItem('tipo_usuario');\n\n    if (this.newPassword === \"\" || this.confirmNewPassword === \"\") {\n      this.toastr.error('Todos los campos son obligatorios', 'Error');\n      return\n    }\n\n    if (this.newPassword === this.confirmNewPassword) {\n      this.user.user = userLocal;\n      this.user.password = this.newPassword;\n      this._inicioService.newPassword(this.user).subscribe({\n          next: (res) => {\n            this.toastr.success('Contrase単a actualizadda correctamente', 'Correcto');\n            if (tipo_usuario === \"admin\") {\n              this.router.navigate(['/principaldirector']);\n          } else if (tipo_usuario === \"gerente\") {\n              this.router.navigate(['/principalgerente']);\n          } else if (tipo_usuario === \"recepcionista\") {\n              this.router.navigate(['/principalrecepcionista']);\n          }\n          },\n          error: (error: HttpErrorResponse) => {\n            this._errorService.msjError(error);\n          }\n      })  \n    } else {\n      this.toastr.error('Las contrase単as no coinciden', 'Error');\n      return\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}